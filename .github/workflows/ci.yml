name: CI

image: python:3.11

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

# Define the stages of the CI/CD pipeline
stages:
  - build
  - test
  - lint

# Commands to run before every job
before_script:
  - python --version
  - pip install --upgrade pip
  # Install project dependencies from requirements.txt
  - pip install -r requirements.txt

# The 'test' job
test_job:
  stage: test
  # Dependencies might be installed in before_script, or here if specific to the test stage
  script:
    - echo "Running tests..."
    # Example: Install testing libraries (e.g., pytest) and run tests
    - pytest tests

# The 'test' job
test_job:
  stage: lint
  # Dependencies might be installed in before_script, or here if specific to the test stage
  script:
    - echo "Running pylints..."
    # Example: Install testing libraries (e.g., pytest) and run tests
    - pylint src




